var data = {"report_data":[{"id":"a110376e-55ca-4183-9c1c-32cebd06d592","domain_id":2,"venue_id":1,"creator_id":1,"booking_type":"online","delivery_option":"Willcall","salesperson_first":"Store","salesperson_last":"Front","pickup_first_name":"No","pickup_last_name":"One","completed_at":null,"deleted_at":null,"created_at":"2014-08-26T12:44:27.344Z","updated_at":"2014-08-26T12:44:59.532Z","promo_code_id":null,"status":"paid_in_full","auth_token":"591c56ad-2f4e-4e04-8cca-21afbe00a007","system_customer_id":"8d60cc0e-0890-4378-9799-c5434883cd60","section":"Front Row Cocktail Tables","customer":{"id":16,"purchase_id":"a110376e-55ca-4183-9c1c-32cebd06d592","new_customer":false,"customer_id":null,"customer_email":"bob@bob.com","customer_first_name":"Test","customer_last_name":"Person","customer_phone":"","customer_address1":"","customer_address2":null,"customer_city":null,"customer_state_id":null,"customer_zip":"","customer_country":null,"created_at":"2014-08-26T12:44:27.367Z","updated_at":"2014-08-26T12:44:27.663Z"},"ticket_count":3,"tickets":[{"id":68,"purchase_id":"a110376e-55ca-4183-9c1c-32cebd06d592","showtime_id":9,"venue_id":1,"status":"purchased","name":"No One","created_at":"2014-08-26T12:44:27.550Z","updated_at":"2014-08-26T12:44:27.550Z","title":"Front Row Cocktail Tables","inventory_id":17,"price":30,"service_charge":3,"promo_code_id":null,"group_code_id":1,"event_name":"Spiderweb Burlesque!"},{"id":69,"purchase_id":"a110376e-55ca-4183-9c1c-32cebd06d592","showtime_id":9,"venue_id":1,"status":"purchased","name":"No One","created_at":"2014-08-26T12:44:27.607Z","updated_at":"2014-08-26T12:44:27.607Z","title":"Front Row Cocktail Tables","inventory_id":17,"price":30,"service_charge":3,"promo_code_id":null,"group_code_id":1,"event_name":"Spiderweb Burlesque!"},{"id":70,"purchase_id":"a110376e-55ca-4183-9c1c-32cebd06d592","showtime_id":9,"venue_id":1,"status":"purchased","name":"No One","created_at":"2014-08-26T12:44:27.639Z","updated_at":"2014-08-26T12:44:27.639Z","title":"Front Row Cocktail Tables","inventory_id":17,"price":30,"service_charge":3,"promo_code_id":null,"group_code_id":1,"event_name":"Spiderweb Burlesque!"}],"outstanding_balance":0,"group_code":"test-group-code","notes":[{"id":1,"purchase_id":0,"author":"customer","content":"<p>This is a test!<\/p>","created_at":"2014-07-10T17:39:32.781Z","updated_at":"2014-07-10T17:39:32.781Z"},{"id":2,"purchase_id":0,"author":"admin","content":"<p>This is N admin norw<\/p>","created_at":"2014-07-11T15:30:44.144Z","updated_at":"2014-07-11T15:30:44.144Z"}]},{"id":"e0b866fb-dea6-484e-991e-e31dc6b19ea4","domain_id":2,"venue_id":1,"creator_id":1,"booking_type":"online","delivery_option":"Willcall","salesperson_first":"Store","salesperson_last":"Front","pickup_first_name":"John","pickup_last_name":"Don","completed_at":null,"deleted_at":null,"created_at":"2014-08-26T12:57:46.007Z","updated_at":"2014-08-26T12:58:14.691Z","promo_code_id":null,"status":"paid_in_full","auth_token":"a09c7308-8fd7-49f3-87a1-bcfd61297f1f","system_customer_id":"f39f3cda-ccd6-467f-9e2b-addf2dd1ba5a","section":"General Admission","customer":{"id":20,"purchase_id":"e0b866fb-dea6-484e-991e-e31dc6b19ea4","new_customer":false,"customer_id":null,"customer_email":"jd@somewhere.com","customer_first_name":"John","customer_last_name":"Don","customer_phone":"","customer_address1":"","customer_address2":null,"customer_city":null,"customer_state_id":null,"customer_zip":"","customer_country":null,"created_at":"2014-08-26T12:57:46.028Z","updated_at":"2014-08-26T12:57:46.317Z"},"ticket_count":2,"tickets":[{"id":71,"purchase_id":"e0b866fb-dea6-484e-991e-e31dc6b19ea4","showtime_id":9,"venue_id":1,"status":"purchased","name":"John Don","created_at":"2014-08-26T12:57:46.238Z","updated_at":"2014-08-26T12:57:46.238Z","title":"General Admission","inventory_id":16,"price":15,"service_charge":0,"promo_code_id":null,"group_code_id":null,"event_name":"Spiderweb Burlesque!"},{"id":72,"purchase_id":"e0b866fb-dea6-484e-991e-e31dc6b19ea4","showtime_id":9,"venue_id":1,"status":"purchased","name":"John Don","created_at":"2014-08-26T12:57:46.290Z","updated_at":"2014-08-26T12:57:46.290Z","title":"General Admission","inventory_id":16,"price":15,"service_charge":0,"promo_code_id":null,"group_code_id":null,"event_name":"Spiderweb Burlesque!"}],"outstanding_balance":0,"group_code":null,"notes":[{"id":1,"purchase_id":0,"author":"customer","content":"<p>This is a test!<\/p>","created_at":"2014-07-10T17:39:32.781Z","updated_at":"2014-07-10T17:39:32.781Z"},{"id":2,"purchase_id":0,"author":"admin","content":"<p>This is N admin norw<\/p>","created_at":"2014-07-11T15:30:44.144Z","updated_at":"2014-07-11T15:30:44.144Z"}]},{"id":"46e348f3-1e48-42c0-b8c7-7e857c3409f5","domain_id":2,"venue_id":1,"creator_id":1,"booking_type":"online","delivery_option":"Willcall","salesperson_first":"Store","salesperson_last":"Front","pickup_first_name":"Paul","pickup_last_name":"Mc","completed_at":null,"deleted_at":null,"created_at":"2014-08-26T12:58:37.876Z","updated_at":"2014-08-26T12:58:59.721Z","promo_code_id":null,"status":"paid_in_full","auth_token":"d59525df-c4de-4fd1-9ae5-3a22fd2c2561","system_customer_id":"4a0d804c-354e-4ffc-8f91-6277db3d204e","section":"General Admission","customer":{"id":21,"purchase_id":"46e348f3-1e48-42c0-b8c7-7e857c3409f5","new_customer":false,"customer_id":null,"customer_email":"paul@beatles.com","customer_first_name":"Paul","customer_last_name":"Mc","customer_phone":"","customer_address1":"","customer_address2":null,"customer_city":null,"customer_state_id":null,"customer_zip":"","customer_country":null,"created_at":"2014-08-26T12:58:37.896Z","updated_at":"2014-08-26T12:58:38.063Z"},"ticket_count":1,"tickets":[{"id":74,"purchase_id":"46e348f3-1e48-42c0-b8c7-7e857c3409f5","showtime_id":9,"venue_id":1,"status":"purchased","name":"Paul Mc","created_at":"2014-08-26T12:58:38.034Z","updated_at":"2014-08-26T12:58:38.034Z","title":"General Admission","inventory_id":16,"price":15,"service_charge":0,"promo_code_id":null,"group_code_id":null,"event_name":"Spiderweb Burlesque!"}],"outstanding_balance":0,"group_code":null,"notes":[]},{"id":"9d47d5bf-1100-479a-af38-8df36bb5be0d","domain_id":2,"venue_id":1,"creator_id":1,"booking_type":"online","delivery_option":"Willcall","salesperson_first":"Store","salesperson_last":"Front","pickup_first_name":"John","pickup_last_name":"Game","completed_at":null,"deleted_at":null,"created_at":"2014-08-26T12:59:21.787Z","updated_at":"2014-08-26T13:00:14.733Z","promo_code_id":null,"status":"paid_in_full","auth_token":"3705f498-5319-477e-aac4-59c7277739f8","system_customer_id":"7d42b24d-6b07-4036-8b73-a49d7b03523f","section":"General Admission","customer":{"id":22,"purchase_id":"9d47d5bf-1100-479a-af38-8df36bb5be0d","new_customer":false,"customer_id":null,"customer_email":"jg@gmail.com","customer_first_name":"John","customer_last_name":"Game","customer_phone":"","customer_address1":"","customer_address2":null,"customer_city":null,"customer_state_id":null,"customer_zip":"","customer_country":null,"created_at":"2014-08-26T12:59:21.806Z","updated_at":"2014-08-26T12:59:22.089Z"},"ticket_count":6,"tickets":[{"id":75,"purchase_id":"9d47d5bf-1100-479a-af38-8df36bb5be0d","showtime_id":9,"venue_id":1,"status":"purchased","name":"John Game","created_at":"2014-08-26T12:59:21.888Z","updated_at":"2014-08-26T12:59:21.888Z","title":"General Admission","inventory_id":16,"price":15,"service_charge":0,"promo_code_id":null,"group_code_id":null,"event_name":"Spiderweb Burlesque!"},{"id":76,"purchase_id":"9d47d5bf-1100-479a-af38-8df36bb5be0d","showtime_id":9,"venue_id":1,"status":"purchased","name":"John Game","created_at":"2014-08-26T12:59:21.937Z","updated_at":"2014-08-26T12:59:21.937Z","title":"General Admission","inventory_id":16,"price":15,"service_charge":0,"promo_code_id":null,"group_code_id":null,"event_name":"Spiderweb Burlesque!"},{"id":77,"purchase_id":"9d47d5bf-1100-479a-af38-8df36bb5be0d","showtime_id":9,"venue_id":1,"status":"purchased","name":"John Game","created_at":"2014-08-26T12:59:21.967Z","updated_at":"2014-08-26T12:59:21.967Z","title":"General Admission","inventory_id":16,"price":15,"service_charge":0,"promo_code_id":null,"group_code_id":null,"event_name":"Spiderweb Burlesque!"},{"id":78,"purchase_id":"9d47d5bf-1100-479a-af38-8df36bb5be0d","showtime_id":9,"venue_id":1,"status":"purchased","name":"John Game","created_at":"2014-08-26T12:59:21.997Z","updated_at":"2014-08-26T12:59:21.997Z","title":"General Admission","inventory_id":16,"price":15,"service_charge":0,"promo_code_id":null,"group_code_id":null,"event_name":"Spiderweb Burlesque!"},{"id":79,"purchase_id":"9d47d5bf-1100-479a-af38-8df36bb5be0d","showtime_id":9,"venue_id":1,"status":"purchased","name":"John Game","created_at":"2014-08-26T12:59:22.029Z","updated_at":"2014-08-26T12:59:22.029Z","title":"General Admission","inventory_id":16,"price":15,"service_charge":0,"promo_code_id":null,"group_code_id":null,"event_name":"Spiderweb Burlesque!"},{"id":80,"purchase_id":"9d47d5bf-1100-479a-af38-8df36bb5be0d","showtime_id":9,"venue_id":1,"status":"purchased","name":"John Game","created_at":"2014-08-26T12:59:22.061Z","updated_at":"2014-08-26T12:59:22.061Z","title":"General Admission","inventory_id":16,"price":15,"service_charge":0,"promo_code_id":null,"group_code_id":null,"event_name":"Spiderweb Burlesque!"}],"outstanding_balance":0,"group_code":null,"notes":[]},{"id":"76e5bcbb-e3ed-4b2c-95a7-8b442824ac5b","domain_id":2,"venue_id":1,"creator_id":1,"booking_type":"online","delivery_option":"Willcall","salesperson_first":"Store","salesperson_last":"Front","pickup_first_name":"Ryan","pickup_last_name":"Good","completed_at":null,"deleted_at":null,"created_at":"2014-08-26T13:00:58.961Z","updated_at":"2014-08-26T13:01:44.761Z","promo_code_id":null,"status":"paid_in_full","auth_token":"987b6078-9f41-48e8-a3b0-6352b17f9867","system_customer_id":"f68386fa-d64a-49cc-8eb0-752e50e9b315","section":"General Admission","customer":{"id":23,"purchase_id":"76e5bcbb-e3ed-4b2c-95a7-8b442824ac5b","new_customer":false,"customer_id":null,"customer_email":"rg@gmail.com","customer_first_name":"Ryan","customer_last_name":"Good","customer_phone":"","customer_address1":"","customer_address2":null,"customer_city":null,"customer_state_id":null,"customer_zip":"","customer_country":null,"created_at":"2014-08-26T13:00:58.964Z","updated_at":"2014-08-26T13:00:59.167Z"},"ticket_count":2,"tickets":[{"id":83,"purchase_id":"76e5bcbb-e3ed-4b2c-95a7-8b442824ac5b","showtime_id":9,"venue_id":1,"status":"purchased","name":"Ryan Good","created_at":"2014-08-26T13:00:59.110Z","updated_at":"2014-08-26T13:00:59.110Z","title":"General Admission","inventory_id":16,"price":15,"service_charge":0,"promo_code_id":null,"group_code_id":null,"event_name":"Spiderweb Burlesque!"},{"id":84,"purchase_id":"76e5bcbb-e3ed-4b2c-95a7-8b442824ac5b","showtime_id":9,"venue_id":1,"status":"purchased","name":"Ryan Good","created_at":"2014-08-26T13:00:59.142Z","updated_at":"2014-08-26T13:00:59.142Z","title":"General Admission","inventory_id":16,"price":15,"service_charge":0,"promo_code_id":null,"group_code_id":null,"event_name":"Spiderweb Burlesque!"}],"outstanding_balance":0,"group_code":null,"notes":[]}],"report_run_date":"2014-08-26T13:03:16+00:00","id":9,"domain_id":2,"options":{},"running":false,"in_hourly_queue":false,"in_daily_queue":false}

      var drawChart = function() {
        var reserved = 0;
        var purchased = 0;
        var seated = 0;
        // Count ticket statuses
        for (i = 0; i < data.report_data.length; i ++ ) {
          for (ticket in data.report_data[i].tickets) {
            console.log(data.report_data[i].tickets[ticket].status);
            if (data.report_data[i].tickets[ticket].status == "reserved") {
              reserved += 1;
            } else if (data.report_data[i].tickets[ticket].status == "purchased") {
              purchased += 1;
            } else if (data.report_data[i].tickets[ticket].status == "seated") {
              seated += 1;
            }
          }
        };

        var chart_data = [{
            value: reserved,
            color: "#F7464A",
            label: "Reserved"
          }, {
            value: purchased,
            color: "#E2EAE9",
            label: "Purchased"
          }, {
            value: seated,
            color: "#D4CCC5",
            label: "Seated"
          }
        ]

        var options = {

        };

        //Get the context of the canvas element
        var ctx = document.getElementById("myChart").getContext("2d");
        myNewChart = new Chart(ctx).Pie(chart_data, options);
  };
        drawChart();
